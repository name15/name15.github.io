<!DOCTYPE html>
<html>
	<head>
		<title>Ideale Münze</title>
		<style>

#output {
position: absolute;
margin: 50px;
width: 500px;
max-height: 150px;
overflow-x: hidden; 
overflow-x: auto;
}
p {
float: left;
margin-top: 0;
margin-left: 25px;
}
button {
float: left;
}
		</style>
	</head>
	<body>
		<h2 id="heading" ></h2>
		<input type="range" min="2" max="8" value="3" id="slider"><br>
		<button onkeypress="flipACoin()" onclick="flipACoin()">Start</button>
		<p id="coins"></p>
		<p id="average"></p>
		<div id="output"></div>
		<script>
// Parameters
var a = 3;

//Constants
const heading = document.getElementById("heading");
const output = document.getElementById("output");
const coins = document.getElementById("coins");
const slider = document.getElementById("slider");
const average = document.getElementById("average");

var message = "Wie lange muss man eine ideale Münze werfen, bis -mal Köpfe gefallen sind?"

//Preprocessing
var points = 0;
var experiments = 0;
var messageSent = false;

heading.innerHTML = message.slice(0, 49) + slider.value + message.slice(49);
slider.oninput = function() {
	a = slider.value;
	experiments = 0;
	points = 0;
	heading.innerHTML = message.slice(0, 49) + slider.value + message.slice(49);
	output.innerHTML = "";	coins.innerHTML = "";  average.innerHTML = "";
}

//Program
var e;
var count;
var intervalID;


function flipACoin() { 
	count = 0;
	e = 0;
	clear();
	while (e < a) {
		b = Math.round(Math.random());
		if (b == 1) { e++; log("Kopf"); }
		else { e = 0; log("Zahl"); }
		count++;
	}
	experiments++;
	points += count;
	if (experiments == 3 && !messageSent)
	{
		alert("Es ist schneller, wenn Sie irgendwelche Taste gedrückt halten.");
		messageSent = true
		
	}
	
	coins.innerHTML = "Anzahl der benötigten Würfe: " + count;
	output.scrollTop = output.scrollHeight;
	average.innerHTML = "Durchschnittlich: "+points/experiments;
}


function log(message){
output.innerHTML += message+"<br>";
}
function clear(){
output.innerHTML = "";
}
		</script>
	</body>
</html>
